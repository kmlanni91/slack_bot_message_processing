<coordinator-app name="tAmerica/New_York" 
	frequency="${coord:hours(6)}"
	start="2019-05-01T00:00Z" end="2019-05-31T23:00Z" timezone="America/New_York"
	xmlns="uri:oozie:coordinator:0.2">
	<controls>
		<concurrency>1</concurrency>
		<execution>FIFO</execution>
		<throttle>5</throttle>
	</controls>
	<datasets>
		<dataset name="input" frequency="${coord:hours(6)}"
			initial-instance="2019-05-01T00:00Z" timezone="America/New_York">
			<uri-template>${nameNode}/user/maria_dev/slackbot/${YEAR}/${MONTH}/${DAY}</uri-template>
			<done-flag></done-flag>
		</dataset>
		<dataset name="output" frequency="${coord:hours(6)"
			initial-instance="2019-05-01T00:00Z" timezone="America/New_York">
			<uri-template>${nameNode}/user/maria_dev/slackbot_out/${YEAR}/${MONTH}/${DAY}</uri-template>
			<done-flag></done-flag>
		</dataset>
	</datasets>
	<input-events>
		<data-in name="input-event" dataset="input">
			<instance>${coord:current(0)}</instance>
		</data-in>
	</input-events>
	<output-events>
		<data-out name="output-event" dataset="output">
			<instance>${coord:current(0)}</instance>
		</data-out>
	</output-events>
	<action>
		<workflow>
			<app-path>${applicationPath}</app-path>
			<configuration>
				<property>
					<name>inputPath</name>
					<value>${coord:dataIn('input-event')}</value>
				</property>
				<property>
					<name>outputPath</name>
					<value>${coord:dataOut('output-event')</value>
				</property>
				<property>
					<name>oozie.use.system.libpath</name>
					<value>true</value>
				</property>
			</configuration>
		</workflow>
	</action>
</coordinator-app>			
